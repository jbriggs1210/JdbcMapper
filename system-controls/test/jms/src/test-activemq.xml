<?xml version="1.0" encoding="UTF-8"?>
<connector xmlns="http://geronimo.apache.org/xml/ns/j2ee/connector"
           version="1.5"
           configId="weather/Topics"
           parentId="geronimo/activemq/1.0/car">

    <resourceadapter>
        <resourceadapter-instance>
            <resourceadapter-name>ActiveMQ RA</resourceadapter-name>
            <config-property-setting name="ServerUrl">tcp://localhost:61616</config-property-setting>
            <config-property-setting name="UserName">system</config-property-setting>
            <config-property-setting name="Password">manager</config-property-setting>
            <workmanager>
                <gbean-link>DefaultWorkManager</gbean-link>
            </workmanager>
        </resourceadapter-instance>

        <outbound-resourceadapter>
            <connection-definition>
                <connectionfactory-interface>javax.jms.ConnectionFactory</connectionfactory-interface>
                <connectiondefinition-instance>
                    <name>ConnectionFactory</name>
                    <implemented-interface>javax.jms.QueueConnectionFactory</implemented-interface>
                    <implemented-interface>javax.jms.TopicConnectionFactory</implemented-interface>
                    <connectionmanager>
                        <xa-transaction>
                            <transaction-caching/>
                        </xa-transaction>
                        <single-pool>
                            <max-size>10</max-size>
                            <blocking-timeout-milliseconds>5000</blocking-timeout-milliseconds>
                            <match-one/>
                        </single-pool>
                    </connectionmanager>
                    <global-jndi-name>ConnectionFactory</global-jndi-name>
                </connectiondefinition-instance>
            </connection-definition>
        </outbound-resourceadapter>

    </resourceadapter>

    <adminobject>

        <adminobject-interface>javax.jms.Topic</adminobject-interface>
        <adminobject-class>org.codehaus.activemq.message.ActiveMQTopic</adminobject-class>
        <adminobject-instance>
            <message-destination-name>testTopic</message-destination-name>
            <config-property-setting
                    name="PhysicalName">testTopic</config-property-setting>
        </adminobject-instance>
    </adminobject>
<!--
    <adminobject>
        <adminobject-interface>javax.jms.Topic</adminobject-interface>
        <adminobject-class>org.codehaus.activemq.message.ActiveMQTopic</adminobject-class>
        <adminobject-instance>
            <message-destination-name>weatherRequestsTopic</message-destination-name>
            <config-property-setting
                    name="PhysicalName">weatherRequestsTopic</config-property-setting>
        </adminobject-instance>
    </adminobject>
    -->

    <adminobject>
        <adminobject-interface>javax.jms.Queue</adminobject-interface>
        <adminobject-class>org.codehaus.activemq.message.ActiveMQQueue</adminobject-class>
        <adminobject-instance>
            <message-destination-name>testQueue2</message-destination-name>
            <config-property-setting
                    name="PhysicalName">testJMSControlCQueue2</config-property-setting>
        </adminobject-instance>
    </adminobject>

</connector>