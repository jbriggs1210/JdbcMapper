<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN" "http://forrest.apache.org/dtd/document-v20.dtd">
<document>
	<header>
		<title>Servlet Container Adapters</title>
	</header>
	<body>
        <section><title>Writing a Servlet Container Adapter</title>
            <p>
                Certain NetUI features (like the default behavior for FlowController.login()) depend on
                container-specific capabilities.  NetUI uses "servlet container adapters" to take advantage of
                container-specific functionality.
            </p>
            <p>To write an adapter:</p>
            <ol>
                <li>
                    Write a class that implements 
                    <a href="apidocs/javadoc/org/apache/beehive/netui/pageflow/ServletContainerAdapter.html">
                        org.apache.beehive.netui.pageflow.ServletContainerAdapter</a>.  
                    You can extend <a href="apidocs/javadoc/org/apache/beehive/netui/pageflow/DefaultServletContainerAdapter.html">
                        org.apache.beehive.netui.pageflow.DefaultServletContainerAdapter</a>.
                </li>
                <li>
                    Package the class in a JAR file which also contains a text file in directory
                    <code>META-INF/services</code> called
                    <code>org.apache.beehive.netui.pageflow.ServletContainerAdapter</code>.
                    The text file should have a single line that is the full class name of your
                    <code>ServletContainerAdapter</code>
                </li>
                <li>
                    Drop the JAR into the <code>WEB-INF/lib</code> directory of your web application.  The NetUI
                    runtime will automatically pick up the first "discovered" adapter that answers <code>true</code>
                    when its <code>accept</code> method is called.
                </li>
            </ol>
            
            <note>
                Note: the default <code>ServletContainerAdapter</code> defines "production mode"  as the state where
                assertions are disabled. (See <a href="site:devmode">Development and Production Modes</a> for details.) 
                Even if you do not want to use existing adapters for container-specific features, you may want to write
                your own adapter that defines production mode
                (<a href="apidocs/javadoc/org/apache/beehive/netui/pageflow/ServletContainerAdapter#isInProductionMode"><code>ServletContainerAdapter.isInProductionMode()</code></a>)
                according to your own requirements.
            </note>
        </section>
    </body>
    <footer>
        <legal>Java, J2EE, and JCP are trademarks or registered trademarks of Sun Microsystems, Inc. in the United States and other countries.<br/>
    &copy; 2004, Apache Software Foundation
        </legal>
    </footer>
</document>
