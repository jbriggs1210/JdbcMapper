package PF_CatchExceptionHandler;

import org.apache.beehive.netui.pageflow.PageFlowController;
import org.apache.beehive.netui.pageflow.Forward;
import org.apache.beehive.netui.pageflow.ActionNotFoundException;
import org.apache.beehive.netui.pageflow.annotations.Jpf;

/**
 *******************************************************************************
 *
 * @desc: This PageFlow specifies an a catch and exception-handler method.
 *
 * @result: This should compiler cleanly.
 *
 ******************************************************************************/

    @Jpf.Controller(
        catches = {
            @Jpf.Catch(
                type = java.lang.Throwable.class,
                method = "exceptionHandler")
        })
public class Controller extends PageFlowController
   {
   FormOne  form1    = new FormOne();

    @Jpf.Action(
        forwards = {
            @Jpf.Forward(
                name = "gotoPg1",
                path = "Pg1.jsp")
        })
   public Forward begin()
      {
      System.out.println(">>> Jpf1.begin");
      return new Forward("gotoPg1");
      }

    @Jpf.Action(
        forwards = {
            @Jpf.Forward(
                name = "currentPage",
                path = "currentPage")
        })
   public Forward action1(FormOne inForm)
      {
      System.out.println(">>> Jpf1.action1");
      return new Forward("currentPage");
      }

    @Jpf.ExceptionHandler(
        forwards = {
            @Jpf.Forward(
                name = "current",
                navigateTo = Jpf.NavigateTo.currentPage)
        })
   public Forward exceptionHandler(Throwable e
                                   ,String actionName
                                   ,String message
                                   ,Object inForm
                                   )
      {
      return new Forward("current");
      }

   /***************************************************************************
    *
    **************************************************************************/
   public static class FormOne implements java.io.Serializable
       {
       private String field1 = "Default value";

       public void setField1(String inField1)
           {
           this.field1 = inField1;
           }
       public String getField1()
           {
           return this.field1;
           }
       }
   }
