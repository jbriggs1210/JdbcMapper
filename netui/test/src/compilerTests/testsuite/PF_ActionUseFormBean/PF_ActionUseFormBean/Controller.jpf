package PF_ActionUseFormBean;

import org.apache.beehive.netui.pageflow.PageFlowController;
import org.apache.beehive.netui.pageflow.Forward;
import org.apache.beehive.netui.pageflow.ActionNotFoundException;
import org.apache.beehive.netui.pageflow.annotations.Jpf;

/**
 *******************************************************************************
 *
 * @desc: This PageFlow specifies the new (sp2) page flow scoped form action attribute
 * "form="formname".  This test makes sure the compiler correctly processes the
 * attribute.
 *
 * @result: This should compiler cleanly.
 *
 ******************************************************************************/

    @Jpf.Controller(
        )
public class Controller extends PageFlowController
   {
   FormOne  form1    = new FormOne();
   FormOne  form2    = new FormOne();

    @Jpf.Action(
        forwards = {
            @Jpf.Forward(
                name = "gotoPg1",
                path = "Pg1.jsp") 
        })
   public Forward begin()
      {
      System.out.println(">>> Jpf1.begin");
      return new Forward("gotoPg1");
      }

    @Jpf.Action(
        useFormBean = "form1",
        forwards = {
            @Jpf.Forward(
                name = "currentPage",
                path = "currentPage") 
        })
   public Forward action1(FormOne inForm)
      {
      System.out.println(">>> Jpf1.action1");
      return new Forward("currentPage");
      }

    @Jpf.Action(
        useFormBean = "form2",
        forwards = {
            @Jpf.Forward(
                name = "currentPage",
                path = "currentPage") 
        })
   public Forward action2(FormOne inForm)
      {
      System.out.println(">>> Jpf1.action2");
      return new Forward("currentPage");
      }

   /***************************************************************************
    *
    **************************************************************************/
   public static class FormOne implements java.io.Serializable
       {
       private String field1 = "Default value";

       public void setField1(String inField1)
           { this.field1 = inField1; }
       public String getField1()
           { return this.field1; }
       }
   }
