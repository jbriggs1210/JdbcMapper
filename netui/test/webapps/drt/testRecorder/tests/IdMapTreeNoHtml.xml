<?xml version="1.0" encoding="UTF-8"?>
<ses:recorderSession xmlns:ses="http://beehive.apache.org/netui/tools/testrecorder/2004/session">
   <ses:sessionName>IdMapTreeNoHtml</ses:sessionName>
   <ses:tester>Daryl</ses:tester>
   <ses:startDate>11 Apr 2005, 10:58:21.863 AM MDT</ses:startDate>
   <ses:description>Daryl</ses:description>
   <ses:tests>
      <ses:test>
         <ses:testNumber>1</ses:testNumber>
         <ses:request>
            <ses:protocol>HTTP</ses:protocol>
            <ses:protocolVersion>1.1</ses:protocolVersion>
            <ses:host>localhost</ses:host>
            <ses:port>8080</ses:port>
            <ses:uri>/coreWeb/idmap/treeNoHtml/Controller.jpf</ses:uri>
            <ses:method>GET</ses:method>
            <ses:parameters/>
            <ses:cookies>
               <ses:cookie>
                  <ses:name>JSESSIONID</ses:name>
                  <ses:value>FE2E701A5A9EE372A6924F4082C642DC</ses:value>
               </ses:cookie>
            </ses:cookies>
            <ses:headers>
               <ses:header>
                  <ses:name>---------------</ses:name>
                  <ses:value>------------</ses:value>
               </ses:header>
               <ses:header>
                  <ses:name>accept</ses:name>
                  <ses:value>text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5</ses:value>
               </ses:header>
               <ses:header>
                  <ses:name>accept-charset</ses:name>
                  <ses:value>ISO-8859-1,utf-8;q=0.7,*;q=0.7</ses:value>
               </ses:header>
               <ses:header>
                  <ses:name>accept-language</ses:name>
                  <ses:value>en-us,en;q=0.5</ses:value>
               </ses:header>
               <ses:header>
                  <ses:name>connection</ses:name>
                  <ses:value>keep-alive</ses:value>
               </ses:header>
               <ses:header>
                  <ses:name>cookie</ses:name>
                  <ses:value>$Version=0; JSESSIONID=FE2E701A5A9EE372A6924F4082C642DC; $Path=/coreWeb</ses:value>
               </ses:header>
               <ses:header>
                  <ses:name>host</ses:name>
                  <ses:value>localhost:8080</ses:value>
               </ses:header>
               <ses:header>
                  <ses:name>keep-alive</ses:name>
                  <ses:value>300</ses:value>
               </ses:header>
               <ses:header>
                  <ses:name>testrecorder.playback.testid</ses:name>
                  <ses:value>-56c9d423:103322d5ed1:-7bbf</ses:value>
               </ses:header>
               <ses:header>
                  <ses:name>user-agent</ses:name>
                  <ses:value>Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041107 Firefox/1.0</ses:value>
               </ses:header>
            </ses:headers>
         </ses:request>
         <ses:response>
            <ses:statusCode>200</ses:statusCode>
            <ses:reason/>
            <ses:responseBody><![CDATA[<html>
    <head>
        <base href="http://localhost:8080/coreWeb/idmap/treeNoHtml/index.jsp">
    </head>
    <body>
        <p style="color: green">This will test the result of generating JavaScript
	from when it is on the tree itself.  The result should be the inline method
	for looking up the tagId set on the tree.
        </p>
	<a href="/coreWeb/idmap/treeNoHtml/clearTree.do">Clear Tree</a>&nbsp;
	<hr>
        <span id="scopeOneSpan" />
        <div id="tree">
   <div>
      <img src="/coreWeb/resources/beehive/version1/images/lastLineJoin.gif" style="vertical-align:bottom;" border="0" alt="">
      <a href="/coreWeb/idmap/treeNoHtml/select.do?netui_treeselected=0&amp;netui_treeid=tree" style="text-decoration: none">&nbsp;<img src="/coreWeb/resources/beehive/version1/images/folder.gif" style="vertical-align:text-top" border="0" alt="Item-PageOne">&nbsp;Item-PageOne&nbsp;</a>
   </div>
</div>

<script language="JavaScript" type="text/JavaScript">
<!--
// lookup by tagId to "real id"
function lookupIdByTagId(id, tag)
{
   var idScope = lookupIdScope(tag,".");
   return (idScope == "") ? id : idScope + id;
}

//Non-Legacy lookup method creating a fully qualified scope id
function lookupIdScope(tag,sep)
{
   var val = "";
   if (sep == null) sep = "";
   while (tag != null && tag.getAttribute != null) {
      try {
         var attrVal = tag.getAttribute("netui:idScope");
      } catch (e) { /* ignore, in IE6 calling on a table results in an exception */ }
      if (attrVal != null)
         val = attrVal + sep + val;
      tag = tag.parentNode;
   }
   return val;
}

-->
</script>

	<hr>
        <p style="color: green">Below we access the tree, the result should be
	a <b>false</b>.
        </p>
        <p id="javaOut"></p>
    </body>
    <script language="JavaScript" type="text/JavaScript">

    var p = document.getElementById("javaOut");
    var s = document.getElementById("scopeOneSpan");

    var val = "<b>Document Access</b><br>";
    val = val + "Tree by id is null: <b>" +
        (document.getElementById(lookupIdByTagId("tree",s)) == null) + "</b><br>";

    p.innerHTML = val;
    </script>
</html>]]></ses:responseBody>
         </ses:response>
         <ses:testResults>
            <ses:testStatus>fail</ses:testStatus>
         </ses:testResults>
      </ses:test>
   </ses:tests>
   <ses:endDate>11 Apr 2005, 10:58:22.464 AM MDT</ses:endDate>
   <ses:sessionStatus>fail</ses:sessionStatus>
   <ses:testCount>1</ses:testCount>
   <ses:passedCount>0</ses:passedCount>
   <ses:failedCount>1</ses:failedCount>
</ses:recorderSession>