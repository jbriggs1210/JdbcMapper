<?xml version="1.0" encoding="UTF-8"?>

<netui-config xmlns="http://beehive.apache.org/netui/2004/server/config">

    <expression-languages>
        <default-language>netuiel</default-language>
        <expression-language>
            <name>netuiel</name>
            <factory-class>org.apache.beehive.netui.script.el.ExpressionEvaluatorImpl$NetUIELEngineFactory</factory-class>
        </expression-language>
    </expression-languages>

    <pageflow-action-interceptors>
        <!-- for the ActionInterceptorsGlobal test -->
        <global>
            <action-interceptor>
                <interceptor-class>miniTests.actionInterceptors.GlobalInterceptor</interceptor-class>
                <custom-property>
                    <name>prop1</name>
                    <value>value1</value>
                </custom-property>
                <custom-property>
                    <name>prop2</name>
                    <value>value2</value>
                </custom-property>
            </action-interceptor>
        </global>

        <!-- for the J797 test -->
        <per-pageflow>
            <pageflow-uri>/bugs/j797/Controller.jpf</pageflow-uri>
            <per-action>
                <action-name>doRestoreQueryString</action-name>
                <simple-action-interceptor>
                    <intercept-path>/bugs/j797/nested/Controller.jpf</intercept-path>
                </simple-action-interceptor>
            </per-action>
            <per-action>
                <action-name>doNotRestoreQueryString</action-name>
                <action-interceptor>
                    <interceptor-class>bugs.j797.TestInterceptor</interceptor-class>
                </action-interceptor>
            </per-action>
        </per-pageflow>

        <!-- for the ActionInterceptorsSimple test -->
        <per-pageflow>
            <pageflow-uri>/miniTests/actionInterceptors/interceptedBeforeAction/Controller.jpf</pageflow-uri>
            <simple-action-interceptor>
                <intercept-path>/miniTests/actionInterceptors/nested/Controller.jpf</intercept-path>
            </simple-action-interceptor>
        </per-pageflow>
        <per-pageflow>
            <pageflow-uri>/miniTests/actionInterceptors/interceptedAfterAction/Controller.jpf</pageflow-uri>
            <simple-action-interceptor>
                <intercept-path>/miniTests/actionInterceptors/nested/Controller.jpf</intercept-path>
                <after-action>true</after-action>
            </simple-action-interceptor>
        </per-pageflow>
        <per-pageflow>
            <pageflow-uri>/miniTests/actionInterceptors/someFlow/Controller.jpf</pageflow-uri>
            <per-action>
                <action-name>action1</action-name>
                <simple-action-interceptor>
                    <intercept-path>/miniTests/actionInterceptors/nonNested/Controller.jpf</intercept-path>
                    <after-action>true</after-action>
                </simple-action-interceptor>
            </per-action>
        </per-pageflow>

        
        <!-- for the ActionInterceptorsChain test -->
        <per-pageflow>
            <pageflow-uri>/miniTests/actionInterceptors/interruptChain/Controller.jpf</pageflow-uri>
            <per-action>
                <action-name>interruptChainBeforeAction</action-name>
                <action-interceptor>
                    <interceptor-class>miniTests.actionInterceptors.BaseInterceptor</interceptor-class>
                </action-interceptor>
                <action-interceptor>
                    <interceptor-class>miniTests.actionInterceptors.InterruptBeforeActionInterceptor</interceptor-class>
                </action-interceptor>
                <action-interceptor>
                    <interceptor-class>miniTests.actionInterceptors.BaseInterceptor</interceptor-class>
                </action-interceptor>
            </per-action>
            <per-action>
                <action-name>interruptChainAfterAction</action-name>
                <action-interceptor>
                    <interceptor-class>miniTests.actionInterceptors.BaseInterceptor</interceptor-class>
                </action-interceptor>
                <action-interceptor>
                    <interceptor-class>miniTests.actionInterceptors.InterruptAfterActionInterceptor</interceptor-class>
                </action-interceptor>
                <action-interceptor>
                    <interceptor-class>miniTests.actionInterceptors.BaseInterceptor</interceptor-class>
                </action-interceptor>
            </per-action>
        </per-pageflow>

        <!-- for the ActionInterceptorsOverrideForwards test -->
        <per-pageflow>
            <pageflow-uri>/miniTests/actionInterceptors/overrideForwards/Controller.jpf</pageflow-uri>
            <per-action>
                <action-name>forwardAway</action-name>
                <action-interceptor>
                    <interceptor-class>miniTests.actionInterceptors.ForwardAwayInterceptor</interceptor-class>
                </action-interceptor>
            </per-action>
            <per-action>
                <action-name>forwardToNested</action-name>
                <action-interceptor>
                    <interceptor-class>miniTests.actionInterceptors.ForwardToNestedInterceptor</interceptor-class>
                </action-interceptor>
            </per-action>
            <per-action>
                <action-name>forwardToNestedThenAway</action-name>
                <action-interceptor>
                    <interceptor-class>miniTests.actionInterceptors.ForwardToNestedThenAwayInterceptor</interceptor-class>
                </action-interceptor>
            </per-action>
            <per-action>
                <action-name>forwardToNull</action-name>
                <action-interceptor>
                    <interceptor-class>miniTests.actionInterceptors.ForwardToNullInterceptor</interceptor-class>
                </action-interceptor>
            </per-action>
        </per-pageflow>
    </pageflow-action-interceptors>

    <pageflow-handlers>
        <action-forward-handler>
            <handler-class>miniTests.handlers.Controller$OverrideActionForwardHandler</handler-class>
        </action-forward-handler>
        <exceptions-handler>
            <handler-class>miniTests.handlers.Controller$OverrideExceptionsHandler</handler-class>
        </exceptions-handler>
        <forward-redirect-handler>
            <handler-class>pageFlowCore.forwards.Controller$FakeRedirector</handler-class>
        </forward-redirect-handler>
        <login-handler>
            <handler-class>miniTests.handlers.Controller$OverrideLoginHandler1</handler-class>
        </login-handler>
        <login-handler>
            <handler-class>miniTests.handlers.Controller$OverrideLoginHandler2</handler-class>
        </login-handler>
    </pageflow-handlers>

    <pageflow-config>
        <multipart-handler>memory</multipart-handler>
        <module-config-locators>
            <module-config-locator>
                <description>For /miniTests/moduleConfigLocator.</description>
                <locator-class>moduleConfigLocator.Locator1</locator-class>
            </module-config-locator>
        </module-config-locators>
    </pageflow-config>

    <pageflow-factories>
        <flowcontroller-factory>
            <factory-class>miniTests.flowControllerFactory.TestFactory</factory-class>
            <custom-property>
                <name>initVal</name>
                <value>got it!</value>
            </custom-property>
        </flowcontroller-factory>
    </pageflow-factories>
    
    <default-shared-flow-refs>
        <shared-flow-ref>
            <name>defaultSharedFlow1</name>
            <type>miniTests.jspSeesSharedFlow.sharedFlow1.SharedFlow1</type>
        </shared-flow-ref>
        <shared-flow-ref>
            <name>defaultSharedFlow2</name>
            <type>miniTests.jspSeesSharedFlow.sharedFlow2.SharedFlow2</type>
        </shared-flow-ref>
    </default-shared-flow-refs>

    <jsp-tag-config>
       <doctype>html4-loose</doctype>
       <id-javascript>legacy</id-javascript>
    </jsp-tag-config>

    <catalog>
        <chain name="xhr-commands">
            <command>
                <command-class>org.apache.beehive.netui.tags.tree.TreeCRI</command-class>
            </command>
            <command>
                <command-class>org.apache.beehive.netui.tags.divpanel.DivPanelCRI</command-class>
            </command>
            <command>
                <command-class>org.apache.beehive.netui.tags.internal.ViewRendererCRI</command-class>
            </command>
        </chain>
    </catalog>
</netui-config>
